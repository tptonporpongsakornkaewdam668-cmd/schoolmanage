# ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà termId ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡πå‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏ß‡∏¥‡∏ä‡∏≤, ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏Ø‡∏•‡∏Ø) ‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏ó‡∏≠‡∏° (termId) ‡∏ï‡∏¥‡∏î‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢ ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏ó‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

## ‚úÖ ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß

### 1. **services.ts**
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° `termId` parameter ‡πÉ‡∏ô `getTimetable(termId?)`
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° `termId` ‡πÉ‡∏ô timetable entry ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å subject
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° `termId` ‡πÉ‡∏ô type ‡∏Ç‡∏≠‡∏á `saveAttendanceRecords`

### 2. **AcademicManagementDialog.tsx**
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡∏£‡∏≠ `loadData()` ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô dispatch event `termsUpdated`

### 3. **TermSelector.tsx**
- ‚úÖ ‡πÅ‡∏¢‡∏Å‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô `loadTerms()` ‡πÅ‡∏•‡∏∞ `loadActiveTermData()`
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç event handler ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô

## üìù ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡πà‡∏≠

### A. Components ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `activeTerm.id` ‡πÄ‡∏õ‡πá‡∏ô `termId`)

#### 1. **StudentDialog.tsx** ‡∏´‡∏£‡∏∑‡∏≠ Dialog ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `useTerm()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤ `activeTerm`
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `addStudent()` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId: activeTerm.id`

#### 2. **ClassroomDialog.tsx**
- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `useTerm()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤ `activeTerm`
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `addClassroom()` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId: activeTerm.id`

#### 3. **SubjectDialog.tsx**
- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `useTerm()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤ `activeTerm`
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `addSubject()` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId: activeTerm.id`

#### 4. **ImportStudentsDialog.tsx**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `addStudent()` ‡πÅ‡∏•‡∏∞ `addClassroom()` ‡πÉ‡∏´‡πâ‡∏°‡∏µ `termId`

#### 5. **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ (Attendance)**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `saveAttendanceRecords()` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId` ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ record

#### 6. **Assignment/Score Dialogs**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `addAssignment()` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId`
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `saveScore()` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId`

### B. Pages ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á `activeTerm.id` ‡∏ï‡∏≠‡∏ô query)

#### 1. **StudentsPage.tsx**
- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `useTerm()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤ `activeTerm`
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `getStudents()` ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á `activeTerm.id`
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `getClassrooms()` ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á `activeTerm.id`

#### 2. **ClassroomsPage.tsx**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `getClassrooms()` ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á `activeTerm.id`

#### 3. **SubjectsPage.tsx** (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `getSubjects()` ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á `activeTerm.id`

#### 4. **TimetablePage.tsx**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `getTimetable()` ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á `activeTerm.id`

#### 5. **AttendancePage.tsx**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ query attendance records ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢ `termId`

#### 6. **SubjectDetailsPage.tsx** (‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î assignments ‡πÅ‡∏•‡∏∞ scores ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢ `termId`

### C. Quick Check Dialog/Components
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° `termId`

## üîß Pattern ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### Pattern 1: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Components ‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
```tsx
import { useTerm } from '@/lib/termContext';

export function SomeDialog() {
    const { activeTerm } = useTerm();
    
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ active term ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    if (!activeTerm) {
        // ‡πÅ‡∏™‡∏î‡∏á error ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏∏‡πà‡∏°
        return;
    }
    
    const handleSubmit = async () => {
        await addSomething({
            ...data,
            termId: activeTerm.id  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
        });
    };
}
```

### Pattern 2: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Pages ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
```tsx
import { useTerm } from '@/lib/termContext';

export function SomePage() {
    const { activeTerm } = useTerm();
    
    useEffect(() => {
        const loadData = async () => {
            if (!activeTerm) return;
            
            const data = await getData(activeTerm.id);  // ‡∏™‡πà‡∏á termId
            setData(data);
        };
        loadData();
    }, [activeTerm]);  // reload ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ó‡∏≠‡∏°
}
```

## ‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
- ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà user ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ó‡∏≠‡∏° ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞ reload ‡πÉ‡∏´‡∏°‡πà
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÄ‡∏ó‡∏≠‡∏°‡∏≠‡∏∑‡πà‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á (‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡∏ï‡∏≤‡∏° termId)
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ active term ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå
